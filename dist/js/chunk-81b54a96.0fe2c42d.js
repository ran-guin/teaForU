(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-81b54a96"],{2677:function(e,t,a){"use strict";var n=a("8654");t["a"]=n["a"]},5803:function(e,t,a){},f529:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",{staticClass:"coloured"},[a("v-card-title",{staticClass:"cardHeader"},[a("h2",[e._v("Admin")])]),a("v-card-text",[a("v-container",{staticClass:"padded"},[a("v-tabs",{model:{value:e.action,callback:function(t){e.action=t},expression:"action"}},e._l(e.actions,(function(t,n){return a("v-tab",{key:n,attrs:{href:"#action-"+t}},[e._v(e._s(t))])})),1),a("v-tabs-items",{model:{value:e.action,callback:function(t){e.action=t},expression:"action"}},[a("v-tab-item",{staticStyle:{"background-color":"tan"},attrs:{value:"action-Upload"}},[a("v-container",{staticClass:"padded"},[a("h3",[e._v("Uploads")]),a("v-file-input",{attrs:{type:"file",id:"uploadFile"},model:{value:e.inputFile,callback:function(t){e.inputFile=t},expression:"inputFile"}}),a("v-btn",{staticClass:"btn-primary",on:{click:function(t){return e.readFile()}}},[e._v("Upload File")]),a("hr"),e.uploaded?a("v-data-table",{attrs:{items:e.csvData,headers:e.headers,"show-select":"","item-key":"name"},model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}}):e._e(),a("v-container",[e.uploaded?a("v-btn",{staticClass:"btn-primary",on:{click:function(t){return e.addToDB()}}},[e._v("Upload "+e._s(e.selected.length)+" records to DB")]):e._e()],1),e.uploaded?a("h6",[a("pre",[e._v("Uploaded: "+e._s(e.uploaded))]),a("hr"),a("v-row",[a("v-col",[a("h3",[e._v("Data:")]),a("pre",[e._v(e._s(e.csvData))])]),a("v-col",[a("h3",[e._v("Headers:")]),a("pre",[e._v(e._s(e.headers))])])],1)],1):e._e()],1)],1),a("v-tab-item",{staticStyle:{"background-color":"tan"},attrs:{value:"action-Add"}},[a("h3",[e._v("Action = Add"),a("v-card",[a("v-card-title",{staticClass:"header"},[a("h3",[e._v("New Tea")])]),a("v-card-text",[a("v-text-field",{attrs:{label:"Name"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}}),a("v-select",{attrs:{items:e.categories,label:"Category"},model:{value:e.form.category,callback:function(t){e.$set(e.form,"category",t)},expression:"form.category"}}),a("v-text-field",{attrs:{label:"Cost (100g)"},model:{value:e.form.cost_100g,callback:function(t){e.$set(e.form,"cost_100g",t)},expression:"form.cost_100g"}}),a("v-select",{attrs:{label:"Code"},model:{value:e.form.code,callback:function(t){e.$set(e.form,"code",t)},expression:"form.code"}}),a("v-text-field",{attrs:{label:"Location (shelf)"},model:{value:e.form.shelf,callback:function(t){e.$set(e.form,"shelf",t)},expression:"form.shelf"}}),a("v-row",{staticClass:"justify-space-around"},[a("v-btn",{on:{click:function(t){return e.add()}}},[e._v("Test Add")])],1)],1)],1)],1)]),a("v-tab-item",{staticStyle:{"background-color":"tan"},attrs:{value:"action-Edit"}},[a("h3",[e._v("Action = Edit")])]),a("v-tab-item",{staticStyle:{"background-color":"tan"},attrs:{value:"action-Search"}},[a("h3",[e._v("Action = Search")])])],1),e._l(e.Teas,(function(t,n){return a("v-container",{key:n},[a("v-card",{attrs:{"max-width":"500px"}},[a("v-card-title",[e._v(e._s(t.name))]),a("v-card-text",[a("b",[e._v(e._s(t.category))]),a("b",[e._v("Cost (100g): "+e._s(t.cost_100g))]),a("b",[e._v("Code: "+e._s(t.code))]),a("b",[e._v("Location: "+e._s(t.shelf))])])],1)],1)}))],2)],1)],1)},r=[],i=(a("4160"),a("d81d"),a("ac1f"),a("466d"),a("5319"),a("1276"),a("159b"),a("96cf"),a("1da1")),o=a("973f"),c={data:function(){return{actions:["Upload","Add","Edit","Search"],action:"Add",uploaded:null,csvData:[],headers:[],selected:[],inputFile:null,Teas:[],form:{},categories:["Black","Green","Oolong","Herbal"],categories2:[{text:"Black",value:"Black"},{text:"Green",value:"Green"},{text:"Herbal / Tisanes",value:"Tisanes"}]}},mixins:[o["a"]],created:function(){return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},methods:{add:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.addTea(e);case 2:t.Teas.push(e);case 3:case"end":return a.stop()}}),a)})))()},get:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getTea();case 2:a=t.sent,e.Teas=a;case 4:case"end":return t.stop()}}),t)})))()},readFile:function(){var e=this.inputFile;if(e){var t=e,a=new FileReader;a.readAsText(t);var n=this;a.onload=function(){n.uploaded=a.result,n.parseData(a.result,"\t")},a.onerror=function(){console.debug(a.error)}}else console.debug("no file uploaded...")},parseData:function(e,t){var a=this,n=4,r=[];this.csvData=[],t||(t=",");var i=e.split(/\s*\n/);console.debug(i.length+" records found"),i.forEach((function(e){var i=e.split(t);if(console.log("Record: "+JSON.stringify(i)),a.headers&&a.headers.length&&i.length>=n){for(var o={},c=0;c<a.headers.length;c++){var s=a.saveAs(a.headers[c].text);o[s]=i[c]||"?",a.headers[c]&&"Name"===a.headers[c].text?i[c].match(/FOP/)?o.grade="FOP":i[c].match(/BOP/)||i[c].match(/OP/)?o.grade="BOP":i[c].match(/CF/)&&(o["caffeine_free"]=!0):a.headers[c]&&"Type"===a.headers[c].text?(i[c].match(/AB/)&&(o.aged_black=!0),i[c].match(/O/)&&(o.organic=!0),i[c].match(/CF/)?o.caffeine_free=!0:i[c].match(/F/)&&(o.flavoured=!0)):a.headers[c]&&"Code"===a.headers[c].text?i[c].match(/^B/)?o.category="Black":i[c].match(/^G/)?o.category="Green":i[c].match(/^S/)?o.category="Sencha":i[c].match(/^W/)?o.category="White":i[c].match(/^R/)?o.category="Rooibos":i[c].match(/^O/)?o.category="Oolong":i[c].match(/^T/)?o.category="Tisane":i[c].match(/^Y/)&&(o.category="Yerba"):a.headers[c]&&"Price"===a.headers[c].text&&i[c].match(/\/50g/)&&(delete o.cost_100g,o.cost_50g=i[c].replace("/50g",""))}o.description=o.description||o.name,console.debug("* Object *: "+JSON.stringify(o)),a.csvData.push(o)}else i&&i.length&&!a.headers.length?a.headers=i.map((function(e){return{text:e,value:a.saveAs(e)}})):console.debug("insufficient data: "+JSON.stringify(i));r.push(e.split(t))})),console.table(r)},saveAs:function(e){var t={Price:"cost_100g",Location:"shelf"};return t[e]||e.toLowerCase()},addToDB:function(){var e=this;this.selected.map((function(t){e.addTea(t)}))}}},s=c,l=a("2877"),u=a("6544"),d=a.n(u),h=a("8336"),f=a("b0af"),p=a("99d9"),v=(a("caad"),a("13d5"),a("45fc"),a("4ec9"),a("a9e3"),a("b64b"),a("d3b7"),a("3ca3"),a("2ca0"),a("ddb0"),a("ade3")),b=a("5530"),g=(a("4b85"),a("2b0e")),m=a("d9f7"),y=a("80d2"),S=["sm","md","lg","xl"],x=function(){return S.reduce((function(e,t){return e[t]={type:[Boolean,String,Number],default:!1},e}),{})}(),_=function(){return S.reduce((function(e,t){return e["offset"+Object(y["E"])(t)]={type:[String,Number],default:null},e}),{})}(),O=function(){return S.reduce((function(e,t){return e["order"+Object(y["E"])(t)]={type:[String,Number],default:null},e}),{})}(),k={col:Object.keys(x),offset:Object.keys(_),order:Object.keys(O)};function C(e,t,a){var n=e;if(null!=a&&!1!==a){if(t){var r=t.replace(e,"");n+="-".concat(r)}return"col"!==e||""!==a&&!0!==a?(n+="-".concat(a),n.toLowerCase()):n.toLowerCase()}}var w=new Map,V=g["a"].extend({name:"v-col",functional:!0,props:Object(b["a"])(Object(b["a"])(Object(b["a"])(Object(b["a"])({cols:{type:[Boolean,String,Number],default:!1}},x),{},{offset:{type:[String,Number],default:null}},_),{},{order:{type:[String,Number],default:null}},O),{},{alignSelf:{type:String,default:null,validator:function(e){return["auto","start","end","center","baseline","stretch"].includes(e)}},tag:{type:String,default:"div"}}),render:function(e,t){var a=t.props,n=t.data,r=t.children,i=(t.parent,"");for(var o in a)i+=String(a[o]);var c=w.get(i);return c||function(){var e,t;for(t in c=[],k)k[t].forEach((function(e){var n=a[e],r=C(t,e,n);r&&c.push(r)}));var n=c.some((function(e){return e.startsWith("col-")}));c.push((e={col:!n||!a.cols},Object(v["a"])(e,"col-".concat(a.cols),a.cols),Object(v["a"])(e,"offset-".concat(a.offset),a.offset),Object(v["a"])(e,"order-".concat(a.order),a.order),Object(v["a"])(e,"align-self-".concat(a.alignSelf),a.alignSelf),e)),w.set(i,c)}(),e(a.tag,Object(m["a"])(n,{class:c}),r)}}),j=a("a523"),T=a("8fea"),$=(a("99af"),a("a623"),a("fb6a"),a("a434"),a("b0c0"),a("2909")),F=a("53ca"),A=(a("5803"),a("2677")),B=a("cc20"),D=a("d9bd"),z=A["a"].extend({name:"v-file-input",model:{prop:"value",event:"change"},props:{chips:Boolean,clearable:{type:Boolean,default:!0},counterSizeString:{type:String,default:"$vuetify.fileInput.counterSize"},counterString:{type:String,default:"$vuetify.fileInput.counter"},hideInput:Boolean,placeholder:String,prependIcon:{type:String,default:"$file"},readonly:{type:Boolean,default:!1},showSize:{type:[Boolean,Number],default:!1,validator:function(e){return"boolean"===typeof e||[1e3,1024].includes(e)}},smallChips:Boolean,truncateLength:{type:[Number,String],default:22},type:{type:String,default:"file"},value:{default:void 0,validator:function(e){return Object(y["F"])(e).every((function(e){return null!=e&&"object"===Object(F["a"])(e)}))}}},computed:{classes:function(){return Object(b["a"])(Object(b["a"])({},A["a"].options.computed.classes.call(this)),{},{"v-file-input":!0})},computedCounterValue:function(){var e=this.isMultiple&&this.lazyValue?this.lazyValue.length:this.lazyValue instanceof File?1:0;if(!this.showSize)return this.$vuetify.lang.t(this.counterString,e);var t=this.internalArrayValue.reduce((function(e,t){var a=t.size,n=void 0===a?0:a;return e+n}),0);return this.$vuetify.lang.t(this.counterSizeString,e,Object(y["v"])(t,1024===this.base))},internalArrayValue:function(){return Object(y["F"])(this.internalValue)},internalValue:{get:function(){return this.lazyValue},set:function(e){this.lazyValue=e,this.$emit("change",this.lazyValue)}},isDirty:function(){return this.internalArrayValue.length>0},isLabelActive:function(){return this.isDirty},isMultiple:function(){return this.$attrs.hasOwnProperty("multiple")},text:function(){var e=this;return this.isDirty?this.internalArrayValue.map((function(t){var a=t.name,n=void 0===a?"":a,r=t.size,i=void 0===r?0:r,o=e.truncateText(n);return e.showSize?"".concat(o," (").concat(Object(y["v"])(i,1024===e.base),")"):o})):[this.placeholder]},base:function(){return"boolean"!==typeof this.showSize?this.showSize:void 0},hasChips:function(){return this.chips||this.smallChips}},watch:{readonly:{handler:function(e){!0===e&&Object(D["b"])("readonly is not supported on <v-file-input>",this)},immediate:!0},value:function(e){var t=this.isMultiple?e:e?[e]:[];Object(y["i"])(t,this.$refs.input.files)||(this.$refs.input.value="")}},methods:{clearableCallback:function(){this.internalValue=this.isMultiple?[]:void 0,this.$refs.input.value=""},genChips:function(){var e=this;return this.isDirty?this.text.map((function(t,a){return e.$createElement(B["a"],{props:{small:e.smallChips},on:{"click:close":function(){var t=e.internalValue;t.splice(a,1),e.internalValue=t}}},[t])})):[]},genControl:function(){var e=A["a"].options.methods.genControl.call(this);return this.hideInput&&(e.data.style=Object(m["d"])(e.data.style,{display:"none"})),e},genInput:function(){var e=A["a"].options.methods.genInput.call(this);return delete e.data.domProps.value,delete e.data.on.input,e.data.on.change=this.onInput,[this.genSelections(),e]},genPrependSlot:function(){var e=this;if(!this.prependIcon)return null;var t=this.genIcon("prepend",(function(){e.$refs.input.click()}));return this.genSlot("prepend","outer",[t])},genSelectionText:function(){var e=this.text.length;return e<2?this.text:this.showSize&&!this.counter?[this.computedCounterValue]:[this.$vuetify.lang.t(this.counterString,e)]},genSelections:function(){var e=this,t=[];return this.isDirty&&this.$scopedSlots.selection?this.internalArrayValue.forEach((function(a,n){e.$scopedSlots.selection&&t.push(e.$scopedSlots.selection({text:e.text[n],file:a,index:n}))})):t.push(this.hasChips&&this.isDirty?this.genChips():this.genSelectionText()),this.$createElement("div",{staticClass:"v-file-input__text",class:{"v-file-input__text--placeholder":this.placeholder&&!this.isDirty,"v-file-input__text--chips":this.hasChips&&!this.$scopedSlots.selection}},t)},genTextFieldSlot:function(){var e=this,t=A["a"].options.methods.genTextFieldSlot.call(this);return t.data.on=Object(b["a"])(Object(b["a"])({},t.data.on||{}),{},{click:function(){return e.$refs.input.click()}}),t},onInput:function(e){var t=Object($["a"])(e.target.files||[]);this.internalValue=this.isMultiple?t:t[0],this.initialValue=this.internalValue},onKeyDown:function(e){this.$emit("keydown",e)},truncateText:function(e){if(e.length<Number(this.truncateLength))return e;var t=Math.floor((Number(this.truncateLength)-1)/2);return"".concat(e.slice(0,t),"…").concat(e.slice(e.length-t))}}}),N=a("0fd9"),I=a("b974"),E=a("71a3"),R=a("c671"),L=a("fe57"),P=a("aac8"),M=a("8654"),U=Object(l["a"])(s,n,r,!1,null,null,null);t["default"]=U.exports;d()(U,{VBtn:h["a"],VCard:f["a"],VCardText:p["b"],VCardTitle:p["c"],VCol:V,VContainer:j["a"],VDataTable:T["a"],VFileInput:z,VRow:N["a"],VSelect:I["a"],VTab:E["a"],VTabItem:R["a"],VTabs:L["a"],VTabsItems:P["a"],VTextField:M["a"]})}}]);
//# sourceMappingURL=chunk-81b54a96.0fe2c42d.js.map